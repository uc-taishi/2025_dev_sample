# Gitルール

このドキュメントは、本プロジェクトにおけるGitの利用方法とワークフローを定めたものです。目的は、コード履歴の可読性を高め、スムーズな共同開発を実現することです。

## 1. ブランチ戦略

<dl>
<dt>
mainブランチ
</dt>
<dd>
常にデプロイ可能な状態を維持します。このブランチへの直接のコミット(```git push```)は許可されません。すべての変更は、後述するプルリクエスト（Pull Request）を通じてマージされます。
</dd>
<dt>
フィーチャーブランチ
</dt>
<dd>
新しい機能の開発やバグ修正など、すべての作業はこのブランチで行います。mainブランチから作成します。作業が完了したら、mainブランチへのプルリクエストを作成します。
</dd>
</dl>

## 2. ブランチの命名規則

作業内容がひと目でわかるように、ブランチ名には以下のプレフィックス（頭文字）をつけます。

| プレフィックス | 内容 | 例 |
|:-----------|:------------|:------------|
| ```feat/``` | 新機能の追加 | ```feat/add-login-page``` |
| ```fix/``` | バグの修正 | ```fix/header-layout-issue``` |
| ```refactor/``` | 既存コードのリファクタリング | ```refactor/simplify-user-model``` |
| ```docs/``` | ドキュメントの修正 | ```docs/update-readme``` |
| ```chore/``` | ビルドツールなど、雑多な修正 | ```chore/update-dependencies``` |
形式: ```プレフィックス/簡潔な説明``` （例: ```feat/add-user-profile```）

## 3. コミットメッセージの規約

コミット履歴は、将来の自分や他のメンバーにとっての**「未来のドキュメント」**です。変更内容が明確に伝わるように、Conventional Commitsの規約に準拠します。

形式: ```type(scope): subject```

* type: コミットの種類（```feat```, ```fix```, ```docs```, ```style```, ```refactor```, ```test```, ```chore```など）
* scope (任意): 変更の範囲（例: ```login```, ```header```, ```api```など）
* subject: 変更内容の簡潔な説明（50文字以内を推奨）

```bash
# 良い例
feat(auth): ユーザー登録機能を追加
fix(header): スマホ表示時のレイアウト崩れを修正
docs: READMEのセットアップ手順を更新
```

```bash
# 悪い例
修正
バグ修正
wip
```

## 4. プルリクエスト (Pull Request) の運用

フィーチャーブランチでの作業が完了したら、```main```ブランチへのプルリクエストを作成します。

### プルリクエスト作成者の責務

1. タイトルの設定: feat: ユーザープロフィール機能を追加 のように、変更内容が分かりやすいタイトルをつけます。

2. 説明の記述:
    * 何を変更したのか (What)
    * なぜ変更したのか (Why)
    * 関連するIssueがあればリンクを貼ります (Closes #123)。
3. セルフレビュー: マージを依頼する前に、自分自身でコードに問題がないか最終確認します。

### レビュー担当者の責務

* LGTM (Looks Good To Me) を出す前に、責任を持ってコードを確認します。
* 設計、可読性、パフォーマンスの観点でレビューします。
* 修正を依頼する場合は、なぜ修正が必要なのか、理由や代替案を具体的に伝えます。
* 相手への敬意を忘れず、建設的なコメントを心がけます。

## 5. マージのルール

* 承認: 1人以上のレビュー担当者からApprove (承認) をもらうことを原則とします。
* マージ方法: Squash and merge を推奨します。
  * フィーチャーブランチの複数のコミットを1つにまとめてからmainブランチに取り込むことで、mainの履歴をクリーンに保ちます。
* マージ後のブランチ: マージが完了したフィーチャーブランチは削除します。
